<!DOCTYPE html>
<html>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<head>
	<script   src="https://code.jquery.com/jquery-3.0.0.min.js"   integrity="sha256-JmvOoLtYsmqlsWxa7mDSLMwa6dZ9rrIdtrrVYRnDRH0="   crossorigin="anonymous"></script>
<title>Hot Restaurant Tables Page </title>
</head>

<body>
<!-- jumbotron with 2 buttons linking to tables page and make reservation page -->
<div class ="container">
	<div class="jumbotron">
	  <h1 class = "text-center"> <span class="glyphicon glyphicon-fire"></span> Hot Restaurant</h1>
	  <hr>
	  <h2 class = "text-center">Current Reservations and Waiting List</h2>
	  <br>

			  <div class= "text-center">
			  
			  <a href="/reservation"><button type="button"  class="btn btn-danger btn-lg"  role="button"> <span class="glyphicon glyphicon-credit-card"></span>
			   Make Reservation</button></a>

			   <a href="/"> <button type="button" class="btn btn-default btn-lg" role="button"> <span class="glyphicon glyphicon-home"></span> </button></a>
			  </div>
	</div>
</div>

<!-- current reservations table -->
<div class="row">
	<div class="col-lg-12"> 
	<!-- Current tables in use -->
		<div class="panel panel-default"> 
			<div class="panel-heading">
					<h4 class="panel-title">Current Reservations</h4>
			</div>
			<div class="panel-body" id="tableSection">
						
			</div>
		</div>
	<!-- Waiting List Panel -->
		<div class="panel panel-default">
			<div class="panel-heading">
				<h4 class="panel-title">Waiting List</h4>
			</div>
			<div class="panel-body" id="waitlistSection">
				
			</div>
		</div>
	</div>

</div>


<script type="text/javascript">
		
		var currentURL = window.location.origin;

		console.log(currentURL + "/api");

		$.get(currentURL + "/api", function(data){

			for (var i =0; i < data.length; i++){
				var wellSection = $("<div>");
				wellSection.addClass('well');
				wellSection.attr('id', 'tableWell-' + i)
				$('#tableSection').append(wellSection);				

				$("#tableWell-" + i).append("<h2>" + data[i].name + "</h2>");
				$("#tableWell-" + i).append("<h3>Role: " + data[i].email + "</h4>");
				$("#tableWell-" + i).append("<h3>Age: " + data[i].phoneNumber + "</h4>");
				$("#tableWell-" + i).append("<h3>Force Points: " + data[i].uniquieID + "</h4>");	
			}
		})


		$.get(currentURL + "/api/wait", function(data){

			for (var i =0; i < data.length; i++){
				var wellSection = $("<div>");
				wellSection.addClass('well');
				wellSection.attr('id', 'waitWell-' + i)
				$('#waitlistSection').append(wellSection);				

				$("#waitWell-" + i).append("<h2>" + data[i].name + "</h2>");
				$("#waitWell-" + i).append("<h3>Role: " + data[i].email + "</h4>");
				$("#waitWell-" + i).append("<h3>Age: " + data[i].phoneNumber + "</h4>");
				$("#waitWell-" + i).append("<h3>Force Points: " + data[i].uniquieID + "</h4>");	
			}
		})

	</script>


</body>
</html>